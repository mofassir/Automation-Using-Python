# Import pexpect module

import pexpect


# Set the username for ssh connection

username = 'fahmida@localhost'

# Take a valid password from the user

Password = input("Enter the login password of %s: " %username)

# Run ssh command using spawn

child = pexpect.spawn('ssh ' + username)

# Wait for the password

child.expect('password:')

# Send the password taken from the user

child.sendline(Password)

# Expected three output

i = child.expect (['Permission denied', 'Terminal type', '[#\$] '])

# i will be 0 if ssh is unable to connect

if i == 0:

    print("Permission denied by host. Unable to login")

    child.kill(0)

# i will be 1 if ssh is able to connect but terminal is not set

elif i == 1:

    print('Connected Successfully.\nTerminal type is not set.')

    child.sendline('vt100')

    child.expect('[#\$]')

# i will be 2 if ssh is able to connect and terminal is set

elif i == 2:

    print('Connected Successfully.')

    prompt = child.after

    print('Shell Command Prompt:', prompt.decode("utf-8"))
